package com.modelingbrain.home.model;

import org.junit.Assert;
import org.junit.Test;

import java.util.List;

public class OpenTest {
    String xmlFile = "<?xml version='1.0' encoding='UTF-8' standalone='yes' ?>\n" +
            "<Model type=\"ID_Polar\" name=\"Расстройства и Метапрограммы\" time=\"1400564789741\" " +
            "Right0=\"Общее\" Right1=\"Детали\" Right2=\"Диссоциирован\" Right3=\"Ассоциирован\" " +
            "Right4=\"Состояние медитации, Психоз\" Right5=\"Пограничное личностное расстройство\" " +
            "Right6=\"Эйфория, Депрессия\" Right7=\"Удовольствие, Тревога\" />\n" +
            "<Model type=\"ID_Polar\" name='Анализ метапрограммах (референция-фокус внимание) " +
            "на примере \"А ты сам готовишь?\"' time=\"1399554083860\" Right0=" +
            "\"Внутренняя референция\" Right1=\"Внешняя референция\" Right2=\"Сам\" " +
            "Right3=\"Другой\" Right4=\"когда хочу кушать - этот " +
            "человек готовит то что ему нравиться\" Right5=\"когда хочу кушать - другой " +
            "решает что кушать и этот человек готовит что ему нравиться\" Right6=\"когда " +
            "хочу кушать - я решаю кто готовит то что нравится обоим\" Right7=\"когда хочу " +
            "кушать - мне скажут кто готовит и так чтобы устраивало другого\" />";
    String jsonFile =
            "[{\"type\":\"ID_Polar\",\"name\":\"Подстройка к сильной стороне личности и " +
                    "Метапрограммы\",\"time\":\"1400528241450\",\"right\":[\"Общее\",\"Детали" +
                    "\",\"Диссоциирован\",\"Ассоциирован\",\"Линия времени. Трансовые техники" +
                    "\",\"Постановка целей. ХСР.\\nРабота с субмодальностями\",\"Интеграция частей" +
                    "\",\"Коллапс якорей \"]},{\"type\":\"ID_Polar\",\"name\":\"Анализ " +
                    "метапрограммах (референция-фокус внимание) на примере \\\"А ты сам " +
                    "готовишь?\\\"\",\"time\":\"1409400991490\",\"right\":[\"Внутренняя " +
                    "референция\",\"Внешняя референция\",\"Сам\",\"Другой\",\"когда хочу " +
                    "кушать - этот человек готовит то что ему нравиться\",\"когда хочу " +
                    "кушать - другой решает что кушать и этот человек готовит что ему " +
                    "нравиться\",\"когда хочу кушать - я решаю кто готовит то что " +
                    "нравится обоим\",\"когда хочу кушать - мне скажут кто готовит " +
                    "и так чтобы устраивало другого\"]}]";

    @Test
    public void checkXML(){
        List<Model> model = OpenXml.analyze(xmlFile);
        Assert.assertTrue(model.size() == 2);
        Assert.assertTrue(model.get(0).getModelID() == ModelID.ID_Polar);
        Assert.assertTrue(model.get(1).getModelID() == ModelID.ID_Polar);
    }

    @Test
    public void checkXML(){
        List<Model> model = OpenJson.analyze(jsonFile);
        Assert.assertTrue(model.size() == 2);
        Assert.assertTrue(model.get(0).getModelID() == ModelID.ID_Polar);
        Assert.assertTrue(model.get(1).getModelID() == ModelID.ID_Polar);
    }
}
